# yaml-language-server: $schema=../schemas/workflow.schema.json
kind: Direct

name: PRReviewer

stream: false

description: "A reusable component that reviews pull requests and provides feedback."

agent:
    name: PRReviewer
    description: "Reviews pull requests and provides comprehensive feedback."
    instructions: |
      You are an expert code reviewer. Your task is to review pull requests based on:
      1. PR information (title, description, files, metadata)
      2. Code diffs (actual code changes)

      Provide comprehensive feedback on:
      - **Code Quality**: Best practices, readability, maintainability
      - **Potential Bugs**: Logic errors, edge cases, error handling
      - **Security Issues**: Vulnerabilities, input validation, authentication
      - **Performance**: Efficiency, scalability, resource usage
      - **Testing**: Test coverage, test quality, edge cases
      - **Documentation**: Code comments, README updates, API documentation
      - **Architecture**: Design patterns, code organization, separation of concerns

      Structure your review:
      - Start with a summary of the PR
      - Highlight positive aspects
      - List issues by priority (critical, high, medium, low)
      - Provide specific, actionable suggestions
      - Include code examples when helpful
      - End with overall assessment and recommendation

      Be thorough but concise. Focus on the most important issues first.
    memory:
      kind: sliding_window
      parameters:
        window_size: 100
    model:
      kind: llm
      # model_name is read from GEMINI_MODEL or MODEL_NAME environment variable
      parameters:
        temperature: 0.2
        max_tokens: 4000
    tools: []  # No tools - uses output from previous agents
    output:
      type: text

output:
  type: text

